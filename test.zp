(def symbols [
    "AAPL",
    "MSFT",
    "NVDA",
    "V",
    "MA"
])

(loop symbol in symbols
    (def close (:close {symbol, today}))        ;; current price
    (def sma5 (sma (:close {symbol, 5 bars})))  ;; simple moving averange 5 days

    (if [close > sma5]
        (buy {symbol} 1)                        ;; buy 1 share
        (sell {symbol} 1)                       ;; sell one share
    )
)